<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>week7</title>
    <link rel="stylesheet" href="/static/member.css">
</head>
<body>
    <h2 class="title1">歡迎光臨，這是會員頁</h2>
    <div class="signin">
        <h3 class="title2 welcomText">{{ name }}，歡迎登入系統</h3>
        <a href="/signout">登出系統</a>
    </div>

    <div class="leaveMessage">
        <h3 class="title2">快來留言吧</h3>
        <form id="createMessage" action="/createMessage" method="POST">
            內容 <input class="content" name="content" type="text"><br>
            <button class="btn">送出</button>
        </form>
    </div>

    <div class="messageContainer">
        {% for message in messages %}
            <div class="message">
                <p class="dbName">{{ message.dbName }} :</p>
                <p class="dbContent">{{ message.dbContent }}</p>
                {% if message.is_me %}
                    <form id="deleteMsgForm" action="/deleteMessage" method="POST">
                        <input class="dbMsg" name="msg_id" value="{{message.msg_id}}" type="hidden">
                        <button class="btnDelete">X</button>
                    </form><br>
                {% endif %}
            </div>
        {% endfor %}
    </div>

    <div class="searchMemberContainer">
        <h3 class="title2">查詢會員姓名</h3>
        <form id="searchMember">
            <input class="search" name="username" type="text">
            <button class="btn">查詢</button>
        </form>
        <p class="searchResult"></p>
    </div>

    <div class="updateNameContainer">
        <h3 class="title2">更新我的姓名</h3>
        <form id="updateName">
            <input class="update" name="update" type="text">
            <button class="btn">更新</button>
        </form>
        <p class="updateResult"></p>
    </div>

    <script type="module" src="/static/member.js"></script>
</body>
</html>